<!DOCTYPE html>
    <html>
        <head>
            <meta charset="UTF-8">
                <title>clientside using firebase</title>
        </head>

        <body>
       <h2>form entry</h2>

<form action="#">
    First name:<br/>
    <input type="text" name="firstname" id="firstname" value="Mickey"/>
    <br/>
    Last name:<br>
    <input type="text" name="lastname" value="Mouse"/>
    <br/><br/>
    <button id="submit" >Submit</button>
</form>

<div id="results">
    results
</div>
<script src="https://code.jquery.com/jquery-3.3.1.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
    crossorigin="anonymous"></script>

            <script src="https://www.gstatic.com/firebasejs/5.8.2/firebase.js"></script>
            <script>
                // Initialize Firebase
                var config = {
                        apiKey: "AIzaSyDxDZKEgZLkxdCKxIc7WIjnA5JX7_3Tk0A",
                        authDomain: "coffeecup-146120.firebaseapp.com",
                        databaseURL: "https://coffeecup-146120.firebaseio.com",
                        projectId: "coffeecup-146120",
                        storageBucket: "coffeecup-146120.appspot.com",
                        messagingSenderId: "308895034117"
                    };
                    firebase.initializeApp(config);
            
                    $( document ).ready(function() {
                        console.log( "doc ready!" );
                        
                        $("#submit").click(function(event){
                            event.preventDefault();
                            console.log("submit clicked!")
                            $.ajax({
                                url: "/code", 
                                type: "GET",
                                data: { name: "" + $("input#firstname").val() + ""},
                                dataType: "html"
                            })
                            .done( (result) => {
                                $("#results").html("returned from server: " + result);
                                console.log(result)
                            })
                            .fail( (err) => {
                                console.log("error: " + JSON.stringify(err));
                            });
                        });



                    });
            
            
            </script>
                </body>


</html>


